(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o);function r(e,t){var n=document.querySelector(".logIn");return n&&(n.classList.add("opasiti"),n.disabled=!0),a.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat("AIzaSyAeZn6iaK1Cqt3imSfKao2ippRrIyJjMJ8"),{email:e,password:t,returnSecureToken:!0}).then((function(e){return n&&n.classList.remove("opasiti"),e.data.idToken})).catch((function(e){return console.log(e)}))}var i=n(3),s=n(12),c=n(13),l=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"create",value:function(t){return a.a.post("https://podcast-app-b7cee-default-rtdb.firebaseio.com/questions.json",{body:t}).then((function(n){t.id=n.data.name,function(e){var t=u();6==t.length&&t.pop();t.unshift(e),localStorage.setItem("question",JSON.stringify(t))}(t),e.renderList()}))}},{key:"renderList",value:function(){var e=u(),t=e.length?'<h1 class="headerList">\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438 \u0438\u0437 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430<hr></h1>'.concat(e.map((function(e){return function(e){return'\n    <div class="question_story">\n        <div class="text">'.concat(e.text,'</div>\n        <div class="data">').concat(new Date(e.date).toLocaleDateString(),"</div>\n    </div>\n    ")}(e)})).join("")):'<div class="none">\u0412\u044b \u043f\u043e\u043a\u0430 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u043b\u0438(\u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u043f\u0443\u0441\u0442\u043e\u0435)</div>';document.querySelector(".list").innerHTML=t}},{key:"getQuestions",value:function(e){return e?a.a.get("https://podcast-app-b7cee-default-rtdb.firebaseio.com/questions.json?auth=".concat(e)).then((function(e){return e.data&&e.data.error?'<p class="error">'.concat(e.data.error,"</p>"):e.data?Object.keys(e.data).map((function(t){return Object(i.a)(Object(i.a)({},e.data[t]),{},{id:t})})):[]})):Promise.resolve('<p class="error">\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442\u0443 \u0442\u043e\u043a\u0435\u043d\u0430</p>')}},{key:"listToHtml",value:function(e){return e.length?"\n            <ol>\n            ".concat(e.map((function(e){return"\n                <li>".concat(e.body.text,"</li>\n                ")})).join(""),"\n            </ol>\n            "):"<p>\u0437\u0430\u043c\u0435\u0442\u043e\u043a \u043d\u0430 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u043c \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442</p>"}}]),e}();function u(){return JSON.parse(localStorage.getItem("question")||"[]")}n(33);var d=function(e){if(e.length>=8&&e.length<40)return!0},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;document.querySelector(".modalBlock")&&document.querySelector(".modalBlock").remove();var n=document.createElement("div");n.classList.add("modalBlock"),document.body.appendChild(n);var o='\n    <div class="modal">\n        <h1>'.concat(e,"</h1>\n        <div>").concat(t,'</div>\n    </div>\n    <div class="iks">&times;</div>\n    ');n.innerHTML=o,document.querySelector(".iks").addEventListener("click",v)};function v(){document.querySelector(".modalBlock").remove()}var p=document.querySelector("#form"),f=p.querySelector("#question"),h=p.querySelector(".submit"),g=document.querySelector(".plus"),S=document.querySelector(".left_block");function y(){if(JSON.parse(localStorage.getItem("isAuth"))){if(!document.querySelector(".logout")){var e=document.createElement("button");e.classList.add("logout"),e.innerHTML="\u0412\u044b\u0439\u0442\u0438",S.appendChild(e)}}else document.querySelector(".logout")&&document.querySelector(".logout").remove()}y();var b=document.querySelector(".logout");null===b||void 0===b||b.addEventListener("click",(function(){localStorage.removeItem("authemailpassword"),localStorage.removeItem("isAuth"),y()})),g.addEventListener("click",(function(){if(JSON.parse(localStorage.getItem("isAuth"))){var e=JSON.parse(localStorage.getItem("authemailpassword")).email,t=JSON.parse(localStorage.getItem("authemailpassword")).password;r(e,t).then((function(e){return l.getQuestions(e)})).then(w)}else m("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",'\n    <form class="auth_form">\n        <div>\n            <input placeholder="email" id="email" type="text">\n        </div>\n        <div>\n            <input placeholder="password" type="text" id="password">\n        </div>\n        <button class="logIn">\n            \u0412\u043e\u0439\u0442\u0438\n        </button>\n    </form>\n    '),document.querySelector(".auth_form").addEventListener("submit",k)})),f.addEventListener("input",(function(){d(f.value)?(h.disabled=!1,h.classList.remove("opasiti")):h.classList.add("opasiti")})),window.addEventListener("load",l.renderList()),p.addEventListener("submit",(function(e){if(e.preventDefault(),d(f.value)){var t={text:f.value.trim(),date:(new Date).toJSON()};h.disabled=!0,l.create(t).then((function(){f.value="",h.classList.add("opasiti"),h.disabled=!1}))}}));var q="",L="";function k(e){e.preventDefault(),q=e.target.querySelector("#email").value,L=e.target.querySelector("#password").value,r(q,L).then((function(e){return l.getQuestions(e)})).then(w)}function w(e){if(console.log(e),"string"===typeof e)m("\u041e\u0448\u0438\u0431\u043a\u0430",e),localStorage.setItem("isAuth","false");else{if(m("",l.listToHtml(e)),q&&L){var t={email:q,password:L};localStorage.setItem("authemailpassword",JSON.stringify(t))}localStorage.setItem("isAuth","true"),y()}}}},[[34,1,2]]]);
//# sourceMappingURL=main.71c9f561.chunk.js.map